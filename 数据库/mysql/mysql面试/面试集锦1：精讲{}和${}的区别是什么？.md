经常碰到这样的面试题目：#{}和 ${}的区别是什么？

网上的答案是：#{}是预编译处理，${}是字符串替换。mybatis在处理#{}时，会将sql中的#{}替换为?号，调用PreparedStatement的set方法来赋值；mybatis在处理${}时，就是把 ${}替换成变量的值。使用#{}可以有效的防止 SQL 注入，提高系统安全性。

对于这个题目我感觉要抓住两点：

（1）$符号一般用来当作占位符，常使用Linux脚本的人应该对此有更深的体会吧。既然是占位符，当然就是被用来替换的。知道了这点就能很容易区分$ 和#，从而不容易记错了。

（2）预编译的机制。预编译是提前对 SQL 语句进行预编译，而其后注入的参数将不会再进行 SQL 编译。我们知道，SQL 注入是发生在编译的过程中，因为恶意注入了某些特殊字符，最后被编译成了恶意的执行操作。而预编译机制则可以很好的防止 SQL 注入。

最后想说的是，对于 mybatis 以及 sql 而言，每一个考点背后都是有一个深刻的思想存在的，应该好好的体会。这样才能真正的做到技术提升，成为技术大牛。

来源： [http://www.mybatis.cn/archives/70.html](http://www.mybatis.cn/archives/70.html)
